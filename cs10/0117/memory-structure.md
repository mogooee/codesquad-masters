# 프로세스 메모리 구조 모델

![](https://s3.ap-northeast-2.amazonaws.com/lucas-image.codesquad.kr/16403278811501%2AfwkyPI8Gmzd0Q_XAGM5_eA.png)

- 힙이나 스택 영역은 프로그램이 실행하는 동안 크기가 결정되는 동적 할당 영역이다.
- 스택은 Life Cycle이 함수 실행이 끝나면 변수가 모두 소멸되므로,
  힙에다가 데이터를 넣고, 스택에서 포인터변수가 이를 가리키게 하면 저장할 수 있다.
- 스택에 포인터 변수 -> 힙에 아주 큰 메모리 데이터를 관리할 수 있다.
- 컴파일 시에 알 수 있는 정보들을 스택에 포인터 변수를 두므로
  프로그램 실행과정에서 dynamic하게 동적할당으로 힙 메모리에서 저장할 수 있다.
- 스택과 힙의 큰 차이점은 메모리 해제다. 스택에 생성된 변수는 사용한 뒤 따로 처리를 해주지 않아도 되지만 malloc 함수를 사용하여 힙에서 할당한 메모리는 free함수로 반드시 해제를 해주어야 한다. 메모리를 할당만 하고 해제를 해주지 않으면 결국에는 시스템의 메모리가 부족해지므로 운영체제가 프로그램을 강제로 종료시키거나 메모리 하당에 실패하게 된다. 메모리를 해제하지 않아 메모리 사용량이 계속 증가하는 현상을 메모리 누수(memory leak)라 부른다.

# 스택(Stack)

- 함수 인자 값, 함수 내의 지역 변수, 함수의 반환 주소 등이 저장되는 영역으로 함수 호출의 전반적인 처리와 리턴 값을 가지고 있다. 상위 메모리 주소에서 하위 메모리 주소로 데이터가 저장된다.

# 힙(Heap)

- 프로그래머의 필요에 따라 동적 메모리 호출에 의해 할당되는 메모리 여역이다. c언어 기준으로 malloc() 함수나 calloc() 함수에 의해 생성된 변수들이 이 곳에 할당된다. 복합 자료형을 저장하는 메모리 공간
  힙영역은 메모리의 낮은 주소에서 높은 주소의 방향으로 할당된다.

# 텍스트(코드 영역)

실행할 프로그램의 프로그램 코드와 상수가 정의되어있고, 읽기만 가능한 메모리 영역이다.

# 글로벌변수(데이터 영역)

프로그램의 전역 변수와 정적 변수가 저장되는 영역이다. 데이터 영역은 프로그램의 시작과 함께 할당되며, 프로그램이 종료면 소멸한다.
<br>
<br>
<br>

> [ Reference ]  
> 스택과 힙 https://akdl911215.tistory.com/338
